import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';

import { GestureEventData } from 'tns-core-modules/ui/gestures';
import { TouchGestureEventData } from 'tns-core-modules/ui/gestures';

import { ListPicker } from 'tns-core-modules/ui/list-picker';
import { EventData } from 'tns-core-modules/ui/page/page';

import { SelectedIndexChangedEventData } from "nativescript-drop-down";
import { DropDownModule } from "nativescript-drop-down/angular";

@Component({
  selector: 'app-auto-generated',
  templateUrl: './auto-generated.component.html', // test from html to tns.html
  styleUrls: ['./auto-generated.component.css']   // same with this
})
export class AutoGeneratedComponent implements OnInit {

  // onTap(args: GestureEventData) {
  //   console.log("Tap!");
  //   console.log("Object that triggered the event: " + args.object);
  //   console.log("View that triggered the event: " + args.view);
  //   console.log("Event name: " + args.eventName);
  // }

  // drop down
  @ViewChild('dd', { static: true }) dropdown: ElementRef;
  buildings: Array<string> = ['Building C', 'Building D', 'Building E', 'Building F'];

  // on coordinates open menu 
  onTouch(args: TouchGestureEventData) {

    console.log("Touch point: [" + args.getX() + ", " + args.getY() + "]");

    this.dropdown.nativeElement.open();

    // this.DropDownModule = new DropDownModule();
    // this.DropDownModule.isEnabled = true;
    // this.DropDownModule.item = this.buildings;

    // console.log("Enabled: ",this.DropDownModule.isEnabled );
    // console.log("Items: ",this.DropDownModule.item);
  }

  public onchange(args: SelectedIndexChangedEventData) {
    console.log(`Drop Down selected index changed from ${args.oldIndex} to ${args.newIndex}`);
    // draw path here
  }

  // public onSelectedIndexChanged(args: EventData) {
  //   const picker = <ListPicker>args.object;
  //   console.log(`index: ${picker.selectedIndex}; item" ${this.buildings[picker.selectedIndex]}`);
  // }


  constructor() { }

  ngOnInit() {
  }

}
